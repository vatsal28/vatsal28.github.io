<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vatsal OS 95</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'VT323', 'MS Sans Serif', 'Segoe UI', Tahoma, sans-serif;
            background: #008080;
            height: 100vh;
            overflow: hidden;
            user-select: none;
        }

        /* Desktop */
        .desktop {
            height: calc(100vh - 36px);
            padding: 16px;
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 8px;
        }

        /* Desktop Icons */
        .desktop-icon {
            width: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            cursor: pointer;
            border: 1px solid transparent;
        }

        .desktop-icon:hover {
            background: rgba(0, 0, 128, 0.3);
            border: 1px dotted white;
        }

        .desktop-icon:active {
            background: rgba(0, 0, 128, 0.5);
        }

        .desktop-icon img {
            width: 48px;
            height: 48px;
            image-rendering: pixelated;
        }

        .desktop-icon span {
            color: white;
            font-size: 14px;
            text-align: center;
            margin-top: 4px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            word-wrap: break-word;
        }

        /* Windows */
        .window {
            position: absolute;
            background: #c0c0c0;
            border: 2px outset #dfdfdf;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.3);
            min-width: 300px;
            min-height: 200px;
            display: none;
            flex-direction: column;
        }

        .window.active {
            z-index: 100;
        }

        .window.open {
            display: flex;
        }

        .window-titlebar {
            background: linear-gradient(90deg, #000080, #1084d0);
            color: white;
            padding: 4px 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            font-weight: bold;
            font-size: 16px;
        }

        .window-titlebar .title {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .window-titlebar .title img {
            width: 18px;
            height: 18px;
        }

        .window-controls {
            display: flex;
            gap: 3px;
        }

        .window-controls button {
            width: 18px;
            height: 18px;
            background: #c0c0c0;
            border: 2px outset #dfdfdf;
            font-family: 'VT323', monospace;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }

        .window-controls button:active {
            border: 2px inset #808080;
        }

        .window-content {
            flex: 1;
            padding: 12px;
            overflow: auto;
            background: #c0c0c0;
            border-top: 2px inset #808080;
            font-size: 18px;
            line-height: 1.5;
        }

        .window-content h2 {
            font-size: 24px;
            margin-bottom: 12px;
            color: #000080;
        }

        .window-content p {
            margin-bottom: 10px;
        }

        .window-content a {
            color: #0000ff;
        }

        /* Inner panels for content */
        .inset-panel {
            background: white;
            border: 2px inset #808080;
            padding: 12px;
            margin-bottom: 12px;
        }

        /* Project cards */
        .project-card {
            background: white;
            border: 2px inset #808080;
            margin-bottom: 16px;
            overflow: hidden;
        }

        .project-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-bottom: 2px solid #808080;
        }

        .project-card .info {
            padding: 12px;
        }

        .project-card h3 {
            color: #000080;
            margin-bottom: 6px;
            font-size: 20px;
        }

        .project-card p {
            font-size: 16px;
            margin-bottom: 8px;
        }

        .project-card .badge {
            display: inline-block;
            background: #008080;
            color: white;
            padding: 2px 8px;
            font-size: 14px;
            margin-right: 6px;
        }

        /* Social buttons */
        .social-btn {
            display: inline-block;
            background: #c0c0c0;
            border: 2px outset #dfdfdf;
            padding: 8px 16px;
            text-decoration: none;
            color: black;
            font-size: 16px;
            margin: 4px;
            cursor: pointer;
        }

        .social-btn:hover {
            background: #d4d4d4;
        }

        .social-btn:active {
            border: 2px inset #808080;
        }

        /* Profile section */
        .profile-img {
            width: 120px;
            height: 120px;
            border-radius: 0;
            border: 3px outset #dfdfdf;
            object-fit: cover;
            float: left;
            margin-right: 16px;
            margin-bottom: 8px;
        }

        /* Taskbar */
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 36px;
            background: #c0c0c0;
            border-top: 2px outset #dfdfdf;
            display: flex;
            align-items: center;
            padding: 2px 4px;
            gap: 4px;
            z-index: 1000;
        }

        .start-btn {
            background: #c0c0c0;
            border: 2px outset #dfdfdf;
            padding: 2px 8px;
            font-family: 'VT323', monospace;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            height: 28px;
        }

        .start-btn:active, .start-btn.pressed {
            border: 2px inset #808080;
        }

        .start-btn img {
            width: 20px;
            height: 20px;
        }

        .taskbar-divider {
            width: 2px;
            height: 24px;
            background: linear-gradient(to right, #808080, #dfdfdf);
            margin: 0 4px;
        }

        .taskbar-windows {
            flex: 1;
            display: flex;
            gap: 4px;
            overflow-x: auto;
        }

        .taskbar-window-btn {
            background: #c0c0c0;
            border: 2px outset #dfdfdf;
            padding: 2px 12px;
            font-family: 'VT323', monospace;
            font-size: 16px;
            cursor: pointer;
            white-space: nowrap;
            max-width: 160px;
            overflow: hidden;
            text-overflow: ellipsis;
            height: 28px;
        }

        .taskbar-window-btn.active {
            border: 2px inset #808080;
            background: #b0b0b0;
        }

        .system-tray {
            background: #c0c0c0;
            border: 2px inset #808080;
            padding: 2px 12px;
            font-family: 'VT323', monospace;
            font-size: 16px;
            height: 28px;
            display: flex;
            align-items: center;
        }

        /* Start Menu */
        .start-menu {
            position: fixed;
            bottom: 36px;
            left: 0;
            width: 220px;
            background: #c0c0c0;
            border: 2px outset #dfdfdf;
            display: none;
            z-index: 1001;
        }

        .start-menu.open {
            display: block;
        }

        .start-menu-header {
            background: linear-gradient(180deg, #000080, #1084d0);
            color: white;
            padding: 8px;
            font-size: 22px;
            font-weight: bold;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 32px;
        }

        .start-menu-items {
            margin-left: 32px;
            padding: 4px 0;
        }

        .start-menu-item {
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            font-size: 18px;
        }

        .start-menu-item:hover {
            background: #000080;
            color: white;
        }

        .start-menu-item img {
            width: 32px;
            height: 32px;
        }

        .start-menu-divider {
            height: 2px;
            background: linear-gradient(to bottom, #808080, #dfdfdf);
            margin: 4px 8px;
        }

        /* Icon SVGs embedded as data URIs */
        .icon-folder { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Crect x='4' y='12' width='40' height='32' fill='%23ffcc00' stroke='%23996600' stroke-width='2'/%3E%3Crect x='4' y='8' width='20' height='8' fill='%23ffcc00' stroke='%23996600' stroke-width='2'/%3E%3C/svg%3E"); }

        /* Responsive */
        @media (max-width: 768px) {
            .desktop {
                padding: 8px;
            }

            .desktop-icon {
                width: 70px;
            }

            .desktop-icon img {
                width: 40px;
                height: 40px;
            }

            .desktop-icon span {
                font-size: 12px;
            }

            .window {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                width: 100% !important;
                height: calc(100% - 36px) !important;
                min-width: unset;
                min-height: unset;
            }

            .start-menu {
                width: 100%;
            }

            .profile-img {
                float: none;
                display: block;
                margin: 0 auto 16px;
            }
        }

        /* Loading animation */
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .loading {
            animation: blink 1s infinite;
        }
    </style>
</head>
<body>
    <!-- Desktop -->
    <div class="desktop">
        <div class="desktop-icon" onclick="openWindow('about')">
            <svg width="48" height="48" viewBox="0 0 48 48">
                <rect x="8" y="4" width="32" height="40" fill="#c0c0c0" stroke="#000" stroke-width="2"/>
                <rect x="12" y="8" width="24" height="6" fill="#fff"/>
                <rect x="12" y="18" width="24" height="2" fill="#808080"/>
                <rect x="12" y="24" width="24" height="2" fill="#808080"/>
                <rect x="12" y="30" width="18" height="2" fill="#808080"/>
                <circle cx="24" cy="38" r="3" fill="#000080"/>
            </svg>
            <span>About.exe</span>
        </div>

        <div class="desktop-icon" onclick="openWindow('projects')">
            <svg width="48" height="48" viewBox="0 0 48 48">
                <rect x="4" y="12" width="40" height="32" fill="#ffcc00" stroke="#996600" stroke-width="2"/>
                <polygon points="4,12 24,12 24,8 8,8 4,12" fill="#ffcc00" stroke="#996600" stroke-width="2"/>
                <rect x="10" y="18" width="28" height="4" fill="#fff" opacity="0.5"/>
            </svg>
            <span>Projects.exe</span>
        </div>

        <div class="desktop-icon" onclick="openWindow('contact')">
            <svg width="48" height="48" viewBox="0 0 48 48">
                <rect x="4" y="10" width="40" height="28" fill="#fff" stroke="#000" stroke-width="2"/>
                <polygon points="4,10 24,26 44,10" fill="none" stroke="#000080" stroke-width="2"/>
                <line x1="4" y1="38" x2="18" y2="24" stroke="#000080" stroke-width="2"/>
                <line x1="44" y1="38" x2="30" y2="24" stroke="#000080" stroke-width="2"/>
            </svg>
            <span>Contact.exe</span>
        </div>

        <div class="desktop-icon" onclick="openWindow('resume')">
            <svg width="48" height="48" viewBox="0 0 48 48">
                <rect x="8" y="4" width="32" height="40" fill="#fff" stroke="#000" stroke-width="2"/>
                <rect x="28" y="4" width="12" height="12" fill="#c0c0c0" stroke="#000" stroke-width="2"/>
                <polygon points="28,4 28,16 40,4" fill="#808080"/>
                <rect x="12" y="20" width="24" height="2" fill="#000"/>
                <rect x="12" y="26" width="24" height="2" fill="#000"/>
                <rect x="12" y="32" width="16" height="2" fill="#000"/>
            </svg>
            <span>Resume.txt</span>
        </div>

        <div class="desktop-icon" onclick="window.open('https://github.com/vatsal28', '_blank')">
            <svg width="48" height="48" viewBox="0 0 48 48">
                <circle cx="24" cy="24" r="20" fill="#333"/>
                <path d="M24,8 C15.2,8 8,15.2 8,24 c0,7.1 4.6,13.1 10.9,15.2 0.8,0.1 1.1,-0.3 1.1,-0.8 v-2.8 c-4.4,1-5.4,-2.1-5.4,-2.1 -0.7,-1.8 -1.8,-2.3 -1.8,-2.3 -1.5,-1 0.1,-1 0.1,-1 1.6,0.1 2.5,1.7 2.5,1.7 1.5,2.5 3.8,1.8 4.7,1.4 0.1,-1.1 0.6,-1.8 1,-2.2 -3.6,-0.4 -7.3,-1.8 -7.3,-7.9 0,-1.7 0.6,-3.2 1.7,-4.3 -0.2,-0.4 -0.7,-2 0.2,-4.2 0,0 1.4,-0.4 4.5,1.6 1.3,-0.4 2.7,-0.5 4.1,-0.5 1.4,0 2.8,0.2 4.1,0.5 3.1,-2.1 4.5,-1.6 4.5,-1.6 0.9,2.2 0.3,3.8 0.2,4.2 1,1.1 1.7,2.6 1.7,4.3 0,6.1 -3.7,7.5 -7.3,7.9 0.6,0.5 1.1,1.5 1.1,3 v4.4 c0,0.4 0.3,0.9 1.1,0.8 C35.4,37.1 40,31.1 40,24 40,15.2 32.8,8 24,8z" fill="#fff"/>
            </svg>
            <span>GitHub</span>
        </div>
    </div>

    <!-- About Window -->
    <div class="window" id="window-about" style="width: 500px; height: 400px; top: 60px; left: 100px;">
        <div class="window-titlebar" onmousedown="startDrag(event, 'window-about')">
            <span class="title">
                <svg width="18" height="18" viewBox="0 0 48 48">
                    <circle cx="24" cy="24" r="20" fill="#000080"/>
                    <text x="24" y="32" text-anchor="middle" fill="#fff" font-size="24" font-weight="bold">i</text>
                </svg>
                About Vatsal Mishra
            </span>
            <div class="window-controls">
                <button onclick="minimizeWindow('about')">_</button>
                <button onclick="maximizeWindow('about')">‚òê</button>
                <button onclick="closeWindow('about')">√ó</button>
            </div>
        </div>
        <div class="window-content">
            <div class="inset-panel">
                <img src="Vatsal.jpg" alt="Vatsal Mishra" class="profile-img">
                <h2>Vatsal Mishra</h2>
                <p><strong>Senior Engineering Analyst</strong><br>@ Google Dublin üáÆüá™</p>
                <div style="clear:both;"></div>
            </div>
            <p>üëã Hey there! I'm a software engineer who loves building products that make a difference.</p>
            <p>üî¨ Currently working on ads intelligence at Google, previously at Accenture building AI solutions.</p>
            <p>üöÄ In my spare time, I build apps that have reached <strong>14,000+ users</strong> and create tech content on YouTube.</p>
            <p>üéØ Passionate about AI/ML, mobile development, and creating intuitive user experiences.</p>
        </div>
    </div>

    <!-- Projects Window -->
    <div class="window" id="window-projects" style="width: 600px; height: 500px; top: 80px; left: 200px;">
        <div class="window-titlebar" onmousedown="startDrag(event, 'window-projects')">
            <span class="title">
                <svg width="18" height="18" viewBox="0 0 48 48">
                    <rect x="4" y="12" width="40" height="32" fill="#ffcc00" stroke="#996600" stroke-width="2"/>
                </svg>
                My Projects
            </span>
            <div class="window-controls">
                <button onclick="minimizeWindow('projects')">_</button>
                <button onclick="maximizeWindow('projects')">‚òê</button>
                <button onclick="closeWindow('projects')">√ó</button>
            </div>
        </div>
        <div class="window-content">
            <div class="project-card">
                <img src="fakeout-screenshot.png" alt="FakeOut">
                <div class="info">
                    <h3>üîç FakeOut - Deepfake Detector</h3>
                    <p>AI-powered Chrome extension that detects deepfake images and videos in real-time.</p>
                    <span class="badge">14K+ Downloads</span>
                    <span class="badge">Chrome Extension</span>
                    <span class="badge">AI/ML</span>
                </div>
            </div>

            <div class="project-card">
                <img src="mealmate-screenshot.png" alt="MealMate">
                <div class="info">
                    <h3>üçΩÔ∏è MealMate - Meal Planning</h3>
                    <p>Smart meal planning app that generates personalized recipes and shopping lists using AI.</p>
                    <span class="badge">iOS App</span>
                    <span class="badge">GPT-4 Powered</span>
                </div>
            </div>

            <div class="project-card">
                <img src="redo-screenshot.png" alt="Redo AI">
                <div class="info">
                    <h3>üè† Redo AI - Room Transformation</h3>
                    <p>Transform any room with AI-powered interior design suggestions and visualizations.</p>
                    <span class="badge">Generative AI</span>
                    <span class="badge">Computer Vision</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Window -->
    <div class="window" id="window-contact" style="width: 400px; height: 350px; top: 100px; left: 300px;">
        <div class="window-titlebar" onmousedown="startDrag(event, 'window-contact')">
            <span class="title">
                <svg width="18" height="18" viewBox="0 0 48 48">
                    <rect x="4" y="10" width="40" height="28" fill="#fff" stroke="#000" stroke-width="2"/>
                    <polygon points="4,10 24,26 44,10" fill="none" stroke="#000080" stroke-width="2"/>
                </svg>
                Contact & Socials
            </span>
            <div class="window-controls">
                <button onclick="minimizeWindow('contact')">_</button>
                <button onclick="maximizeWindow('contact')">‚òê</button>
                <button onclick="closeWindow('contact')">√ó</button>
            </div>
        </div>
        <div class="window-content">
            <div class="inset-panel">
                <p>üìß Let's connect! Find me on these platforms:</p>
            </div>
            <div style="text-align: center;">
                <a href="https://github.com/vatsal28" target="_blank" class="social-btn">üìÅ GitHub</a>
                <a href="https://linkedin.com/in/vatsalmishra28" target="_blank" class="social-btn">üíº LinkedIn</a>
                <a href="https://twitter.com/glitchygoblin" target="_blank" class="social-btn">üê¶ Twitter</a>
                <a href="https://youtube.com/@glitchygoblin" target="_blank" class="social-btn">üì∫ YouTube</a>
                <a href="https://instagram.com/glitchygoblin" target="_blank" class="social-btn">üì∏ Instagram</a>
            </div>
            <div class="inset-panel" style="margin-top: 20px;">
                <p>üåç Based in Dublin, Ireland</p>
                <p>üïê Timezone: IST (GMT+0/+1)</p>
            </div>
        </div>
    </div>

    <!-- Resume Window -->
    <div class="window" id="window-resume" style="width: 500px; height: 400px; top: 120px; left: 150px;">
        <div class="window-titlebar" onmousedown="startDrag(event, 'window-resume')">
            <span class="title">
                <svg width="18" height="18" viewBox="0 0 48 48">
                    <rect x="8" y="4" width="32" height="40" fill="#fff" stroke="#000" stroke-width="2"/>
                </svg>
                Resume.txt - Notepad
            </span>
            <div class="window-controls">
                <button onclick="minimizeWindow('resume')">_</button>
                <button onclick="maximizeWindow('resume')">‚òê</button>
                <button onclick="closeWindow('resume')">√ó</button>
            </div>
        </div>
        <div class="window-content" style="background: white; font-family: 'Courier New', monospace; font-size: 14px; white-space: pre-wrap;">
=====================================
        VATSAL MISHRA - CV
=====================================

EXPERIENCE
----------
‚Ä¢ Senior Engineering Analyst
  Google | Dublin, Ireland
  2023 - Present
  
‚Ä¢ Application Development Analyst  
  Accenture | Mumbai, India
  2021 - 2023

EDUCATION
---------
‚Ä¢ B.Tech Computer Science
  University of Mumbai
  2017 - 2021

SKILLS
------
Languages: Python, JavaScript, Swift, SQL
Frameworks: React, Node.js, SwiftUI
Cloud: GCP, AWS, Firebase
AI/ML: TensorFlow, PyTorch, LLMs

ACHIEVEMENTS
------------
‚Ä¢ FakeOut: 14,000+ downloads
‚Ä¢ YouTube: Tech content creator
‚Ä¢ Open source contributor

=====================================
        [END OF FILE]
=====================================</div>
    </div>

    <!-- Start Menu -->
    <div class="start-menu" id="start-menu">
        <div class="start-menu-header">Vatsal OS 95</div>
        <div class="start-menu-items">
            <div class="start-menu-item" onclick="openWindow('about'); toggleStartMenu();">
                <svg width="32" height="32" viewBox="0 0 48 48">
                    <circle cx="24" cy="24" r="20" fill="#000080"/>
                    <text x="24" y="32" text-anchor="middle" fill="#fff" font-size="24" font-weight="bold">i</text>
                </svg>
                About Me
            </div>
            <div class="start-menu-item" onclick="openWindow('projects'); toggleStartMenu();">
                <svg width="32" height="32" viewBox="0 0 48 48">
                    <rect x="4" y="12" width="40" height="32" fill="#ffcc00" stroke="#996600" stroke-width="2"/>
                </svg>
                Projects
            </div>
            <div class="start-menu-item" onclick="openWindow('contact'); toggleStartMenu();">
                <svg width="32" height="32" viewBox="0 0 48 48">
                    <rect x="4" y="10" width="40" height="28" fill="#fff" stroke="#000" stroke-width="2"/>
                </svg>
                Contact
            </div>
            <div class="start-menu-item" onclick="openWindow('resume'); toggleStartMenu();">
                <svg width="32" height="32" viewBox="0 0 48 48">
                    <rect x="8" y="4" width="32" height="40" fill="#fff" stroke="#000" stroke-width="2"/>
                </svg>
                Resume
            </div>
            <div class="start-menu-divider"></div>
            <div class="start-menu-item" onclick="window.open('https://vatsal28.github.io', '_blank'); toggleStartMenu();">
                <svg width="32" height="32" viewBox="0 0 48 48">
                    <circle cx="24" cy="24" r="18" fill="none" stroke="#000080" stroke-width="3"/>
                    <ellipse cx="24" cy="24" rx="8" ry="18" fill="none" stroke="#000080" stroke-width="2"/>
                    <line x1="6" y1="24" x2="42" y2="24" stroke="#000080" stroke-width="2"/>
                </svg>
                Main Website
            </div>
        </div>
    </div>

    <!-- Taskbar -->
    <div class="taskbar">
        <button class="start-btn" id="start-btn" onclick="toggleStartMenu()">
            <svg width="20" height="20" viewBox="0 0 20 20">
                <rect x="1" y="1" width="8" height="8" fill="#ff0000"/>
                <rect x="11" y="1" width="8" height="8" fill="#00ff00"/>
                <rect x="1" y="11" width="8" height="8" fill="#0000ff"/>
                <rect x="11" y="11" width="8" height="8" fill="#ffff00"/>
            </svg>
            Start
        </button>
        <div class="taskbar-divider"></div>
        <div class="taskbar-windows" id="taskbar-windows">
            <!-- Dynamic window buttons appear here -->
        </div>
        <div class="system-tray" id="clock">12:00 PM</div>
    </div>

    <script>
        // Window management
        let activeWindow = null;
        let dragOffset = { x: 0, y: 0 };
        let isDragging = false;
        let zIndex = 10;

        const windows = {
            about: { title: 'About Vatsal', open: false, minimized: false },
            projects: { title: 'My Projects', open: false, minimized: false },
            contact: { title: 'Contact', open: false, minimized: false },
            resume: { title: 'Resume.txt', open: false, minimized: false }
        };

        function openWindow(name) {
            const win = document.getElementById('window-' + name);
            windows[name].open = true;
            windows[name].minimized = false;
            win.classList.add('open');
            bringToFront(name);
            updateTaskbar();
        }

        function closeWindow(name) {
            const win = document.getElementById('window-' + name);
            windows[name].open = false;
            windows[name].minimized = false;
            win.classList.remove('open');
            updateTaskbar();
        }

        function minimizeWindow(name) {
            const win = document.getElementById('window-' + name);
            windows[name].minimized = true;
            win.style.display = 'none';
            updateTaskbar();
        }

        function maximizeWindow(name) {
            const win = document.getElementById('window-' + name);
            if (win.dataset.maximized === 'true') {
                // Restore
                win.style.top = win.dataset.originalTop;
                win.style.left = win.dataset.originalLeft;
                win.style.width = win.dataset.originalWidth;
                win.style.height = win.dataset.originalHeight;
                win.dataset.maximized = 'false';
            } else {
                // Maximize
                win.dataset.originalTop = win.style.top;
                win.dataset.originalLeft = win.style.left;
                win.dataset.originalWidth = win.style.width;
                win.dataset.originalHeight = win.style.height;
                win.style.top = '0';
                win.style.left = '0';
                win.style.width = '100%';
                win.style.height = 'calc(100vh - 36px)';
                win.dataset.maximized = 'true';
            }
        }

        function bringToFront(name) {
            // Remove active from all
            document.querySelectorAll('.window').forEach(w => w.classList.remove('active'));
            const win = document.getElementById('window-' + name);
            win.style.zIndex = ++zIndex;
            win.classList.add('active');
            activeWindow = name;
            updateTaskbar();
        }

        function restoreWindow(name) {
            const win = document.getElementById('window-' + name);
            if (windows[name].minimized) {
                windows[name].minimized = false;
                win.style.display = 'flex';
            }
            bringToFront(name);
        }

        // Dragging
        function startDrag(e, windowId) {
            if (e.target.tagName === 'BUTTON') return;
            
            const win = document.getElementById(windowId);
            const name = windowId.replace('window-', '');
            bringToFront(name);
            
            // Don't drag if maximized
            if (win.dataset.maximized === 'true') return;
            
            isDragging = true;
            const rect = win.getBoundingClientRect();
            dragOffset.x = e.clientX - rect.left;
            dragOffset.y = e.clientY - rect.top;
            
            activeWindow = windowId;
            
            document.addEventListener('mousemove', onDrag);
            document.addEventListener('mouseup', stopDrag);
            e.preventDefault();
        }

        function onDrag(e) {
            if (!isDragging || !activeWindow) return;
            
            const win = document.getElementById(activeWindow);
            let newX = e.clientX - dragOffset.x;
            let newY = e.clientY - dragOffset.y;
            
            // Keep within bounds
            newX = Math.max(0, Math.min(newX, window.innerWidth - 100));
            newY = Math.max(0, Math.min(newY, window.innerHeight - 100));
            
            win.style.left = newX + 'px';
            win.style.top = newY + 'px';
        }

        function stopDrag() {
            isDragging = false;
            document.removeEventListener('mousemove', onDrag);
            document.removeEventListener('mouseup', stopDrag);
        }

        // Touch support for mobile
        document.querySelectorAll('.window-titlebar').forEach(titlebar => {
            titlebar.addEventListener('touchstart', function(e) {
                if (e.target.tagName === 'BUTTON') return;
                const windowId = this.parentElement.id;
                const win = document.getElementById(windowId);
                const name = windowId.replace('window-', '');
                bringToFront(name);
            });
        });

        // Taskbar
        function updateTaskbar() {
            const container = document.getElementById('taskbar-windows');
            container.innerHTML = '';
            
            for (const [name, state] of Object.entries(windows)) {
                if (state.open) {
                    const btn = document.createElement('button');
                    btn.className = 'taskbar-window-btn' + (activeWindow === 'window-' + name && !state.minimized ? ' active' : '');
                    btn.textContent = state.title;
                    btn.onclick = () => restoreWindow(name);
                    container.appendChild(btn);
                }
            }
        }

        // Start Menu
        function toggleStartMenu() {
            const menu = document.getElementById('start-menu');
            const btn = document.getElementById('start-btn');
            menu.classList.toggle('open');
            btn.classList.toggle('pressed');
        }

        // Close start menu when clicking outside
        document.addEventListener('click', function(e) {
            const menu = document.getElementById('start-menu');
            const btn = document.getElementById('start-btn');
            if (!menu.contains(e.target) && !btn.contains(e.target)) {
                menu.classList.remove('open');
                btn.classList.remove('pressed');
            }
        });

        // Clock
        function updateClock() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12 || 12;
            document.getElementById('clock').textContent = `${hours}:${minutes} ${ampm}`;
        }

        setInterval(updateClock, 1000);
        updateClock();

        // Auto-open About window on load
        setTimeout(() => {
            openWindow('about');
        }, 500);
    </script>
</body>
</html>
